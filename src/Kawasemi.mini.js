function on_kawasemi(G){function A(){return{d:"[stack]",b:"list",a:[],c:"null",e:!1}}function B(h){for(var a in h){var g=h[a];"list"===g.b?B(g.a):"func_no"===g.b&&"dtor"===g.c&&v(p[g.a])}}function D(C){for(var a=A();C<h.length;){var g=h.pop();"out"===g.c?a=g:"list"===g.b?B(g.a):"func_no"===g.b&&"dtor"===g.c&&(a=v(p[g.a]))}return a}function v(C){function a(a){w.push("syntax-error : "+a+(""===s?"":"\n\tline:"+s));return{d:"[event]",b:"error",a:"syntax-error : "+a,g:"top"}}function g(a){if("list_no"===a.b){var b=
h.length;a=v(p[a.a]);if("[event]"===a.d)return a;for(;b<h.length;)h.pop();var b={d:"[stack]",b:"list",a:[],c:"literal",e:!1},e;for(e in a){var d=a[e];"[stack]"===d.d&&("literal"===d.c&&(d.c=""+e),"."!==d.c[0]&&(d.c="."+d.c),d.f=b)}b.a=a;return b}if("ident"!==a.b)return a;e=a.a;for(a=h.length-1;0<=a;a--)if("[stack]"===h[a].d&&h[a].c===e)return h[a];w.push("undefined variable.: "+e+(""===s?"":"\n\tline:"+s));return{d:"[event]",b:"error",a:"undefined-var : "+e,g:"top"}}function l(b,e){var d=g(e);if("[event]"===
d.d)return d;if("ident"!==b.b){if(!0===b.e&&!0===b.f.e)return a("cannot be set to a constant.: "+b.f.c);b.a=d.a;b.b=d.b;return b}for(var f=h.length-1;0<=f;f--){var k=h[f];if("[stack]"===k.d&&k.c===b.a){if(!0===k.e)return a("cannot be set to a constant.: "+k.c);if(k.b!==d.b)return a("unmatch types.: '"+k.b+":"+k.c+"' != '"+d.b+"'");k.a=d.a;k.b=d.b;d=x(k);d.c="literal";return d}}w.push("undefined variable.: "+b.a+(""===s?"":"\n\tline:"+s));return{d:"[event]",b:"error",a:"undefined-var : "+b.a,g:"top"}}
function k(b,d,e){d=g(d);if("[event]"===d.d)return d;e=g(e);if("[event]"===e.d)return e;if(d.b!==e.b)return{d:"[stack]",b:"bool",a:!1,c:"literal",e:!0};if("(>"===b)return{d:"[stack]",b:"bool",a:d.a>e.a,c:"literal",e:!0};if("(<"===b)return{d:"[stack]",b:"bool",a:d.a<e.a,c:"literal",e:!0};if("(>="===b)return{d:"[stack]",b:"bool",a:d.a>=e.a,c:"literal",e:!0};if("(<="===b)return{d:"[stack]",b:"bool",a:d.a<=e.a,c:"literal",e:!0};if("(=="===b)return{d:"[stack]",b:"bool",a:d.a===e.a,c:"literal",e:!0};if("(!="===
b)return{d:"[stack]",b:"bool",a:d.a!==e.a,c:"literal",e:!0};if("(&&"===b)return{d:"[stack]",b:"bool",a:d.a&&e.a,c:"literal",e:!0};if("(||"===b)return{d:"[stack]",b:"bool",a:d.a||e.a,c:"literal",e:!0};if("str"===d.b&&"str"===e.b&&1===d.a.length&&1===e.a.length){if("(+"===b)return{d:"[stack]",b:d.b,a:String.fromCharCode(d.a.charCodeAt(0)+e.a.charCodeAt(0)),c:"literal",e:!0};if("(-"===b)return{d:"[stack]",b:d.b,a:String.fromCharCode(d.a.charCodeAt(0)-e.a.charCodeAt(0)),c:"literal",e:!0}}return"(*"===
b?{d:"[stack]",b:d.b,a:d.a*e.a,c:"literal",e:!0}:"(/"===b?{d:"[stack]",b:d.b,a:Math.floor(d.a/e.a),c:"literal",e:!0}:"(%"===b?{d:"[stack]",b:d.b,a:d.a%e.a,c:"literal",e:!0}:"(+"===b?{d:"[stack]",b:d.b,a:d.a+e.a,c:"literal",e:!0}:"(-"===b?{d:"[stack]",b:d.b,a:d.a-e.a,c:"literal",e:!0}:"(&"===b?{d:"[stack]",b:d.b,a:d.a&e.a,c:"literal",e:!0}:"(|"===b?{d:"[stack]",b:d.b,a:d.a|e.a,c:"literal",e:!0}:"(^"===b?{d:"[stack]",b:d.b,a:d.a^e.a,c:"literal",e:!0}:"(>>"===b?{d:"[stack]",b:d.b,a:d.a>>e.a,c:"literal",
e:!0}:a(b)}function y(b,d,e){e=g(e);if("[event]"===e.d)return e;if("int"!==e.b)return a("variable type mismatch.: "+e.a+" "+e.b);if("ident"!==d.b){if(!0===d.e)return a("cannot be set to a constant.: "+d.c);if("int"!==d.b)return a("variable type mismatch.:"+d.a);if("*="===b)return{d:"[stack]",b:"int",a:d.a*=e.a,c:"literal",e:!1};if("/="===b)return{d:"[stack]",b:"int",a:d.a=Math.floor(d.a/e.a),c:"literal",e:!1};if("%="===b)return{d:"[stack]",b:"int",a:d.a%=e.a,c:"literal",e:!1};if("+="===b)return{d:"[stack]",
b:"int",a:d.a+=e.a,c:"literal",e:!1};if("-="===b)return{d:"[stack]",b:"int",a:d.a-=e.a,c:"literal",e:!1};w.push("undefined variable.: "+d.a+" "+b+(""===s?"":"\n\tline:"+s));return{d:"[event]",b:"error",a:"undefined-var:"+d.a,g:"top"}}for(var f=d.a,k=h.length-1;0<=k;k--){var l=h[k];if(l.c===f){if(!0===l.e)return a("cannot be set to a constant.: "+l.c);if("int"!==l.b)return a("variable type mismatch.:"+B(l));if("*="===b)return{d:"[stack]",b:"int",a:l.a*=e.a,c:"literal",e:!1};if("/="===b)return{d:"[stack]",
b:"int",a:l.a=Math.floor(l.a/e.a),c:"literal",e:!1};if("%="===b)return{d:"[stack]",b:"int",a:l.a%=e.a,c:"literal",e:!1};if("+="===b)return{d:"[stack]",b:"int",a:l.a+=e.a,c:"literal",e:!1};if("-="===b)return{d:"[stack]",b:"int",a:l.a-=e.a,c:"literal",e:!1}}}w.push("undefined variable.: "+d.a+" "+b+(""===s?"":"\n\tline:"+s));return{d:"[event]",b:"error",a:"undefined-var:"+d.a,g:"top"}}function x(a){return{d:a.d,b:a.b,a:a.a,c:a.c,e:a.e}}function B(a){return"func_no"===a.b?"{}":"list"===a.b?"[]":"str"===
a.b?"'"+a.a+"'":"int"===a.b?a.a:a.b}if(!C)return[];for(var m=[],E=0;E<C.length;E++){var f=C[E];if("ident"!==f.b||")"!==f.a){if("("===f.a||"(each"===f.a||"(loop"===f.a)f.h=h.length;m.push(f)}else{for(var e=[],d=m.length-1;0<=d;--d){var b=m.pop();e.unshift(b);if("ident"===b.b&&"("===b.a[0])break}if(!(0>=e.length))if(f=e[0].a,"("===f)if(2>e.length)m.push(A());else{d=D(e[0].h);if("[event]"===d.d)return d;"null"===d.c?m.push(e[e.length-1]):m.push(d)}else if("(at"===f||"(."===f){if(3>e.length)return a("arg_size < 3 : "+
f);if("@"===e[1].a)b=x(e[1]),b.a=e[1].a+e[2].a,b.b="int",m.push(b);else{d=g(e[1]);if("[event]"===d.d)return d;b=e[2];"(at"===f&&(b=g(e[2]));e=("."===b.a[0]?"":".")+b.a;b=!1;".type"===e&&(b=d.b,"func_no"===b&&(b="func"),b={d:"[stack]",b:"str",a:b,c:"literal",e:!1},m.push(b));if(!1===b&&"[stack]"===d.d&&"list"===d.b){if(!1===b)for(var n in d.a){b=d.a[n];if(b.c===e){m.push(b);break}b=!1}if(!1===b){var r="";for(n=h.length-1;0<=n;n--)if("[stack]"===h[n].d&&h[n].c===e){b=h[n];break}!1!==b&&"int"===b.b&&
0<=b.a&&b.a<d.a.length&&m.push(d.a[b.a])}if(!1===b)for(n in d.a){b=d.a[n];if(".unmatch"===b.c){m.push(b);break}b=!1}}if(!1===b)return w.push("undefined variable.: "+d.c+e+(""===s?"":"\n\tline:"+s)),{d:"[event]",b:"error",a:"undefined-var : "+d.c+e,g:"top"}}}else if("(:"===f||"(::"===f){if(3>e.length)return a("arg_size < 3 : "+f);d=e[1].a;if("ident"!==e[1].b){if("int"!==e[1].b)return a("cannot define.: "+d);d=""+d}b=g(e[2]);if("[event]"===b.d)return b;b={d:"[stack]",b:b.b,a:b.a,c:d,e:"(:"===f};h.push(b);
m.push(b)}else if("(="===f){if(3>e.length)return a("arg_size < 3 : "+f);b=l(e[1],e[2]);if("[event]"===b.d)return b;m.push(b)}else if("(<<"===f){if(3>e.length)return a("arg_size < 3 : "+f);if("@.co"===e[1].a){b=g(e[2]);if("str"===b.b||"int"===b.b)u+=b.a;else if("list"===b.b){u+="[ ";for(n in b.a)"."===b.a[n].c[0]&&(u+=B(b.a[n])+", ");u+="]"}m.push(e[1])}else if("ident"!==e[1].b)return a("syntax-error?: "+e[1].a);for(n=h.length-1;0<=n;n--)if(d=h[n],"[stack]"===d.d&&d.c===e[1].a){if(!0===d.e)return a("cannot be set to a constant.: "+
d.c);if("list"===d.b)b=g(e[2]),"literal"===b.c?d.a.push({d:b.d,b:b.b,a:b.a,c:"."+d.a.length,e:b.e,f:d}):(b=x(b),"."!==b.c[0]&&(b.c="."+b.c),d.a.push(b));else if("str"===d.b)d.a=""+d.a+g(e[2]).a;else if("int"===d.b){m.push({d:"[stack]",b:d.b,a:d.a<<g(e[2]).a,c:"literal",e:!0});break}m.push(e[1]);break}}else if("(<"===f||"(>"===f||"(<="===f||"(>="===f||"(=="===f||"(!="===f||"(&&"===f||"(||"===f||"(*"===f||"(/"===f||"(%"===f||"(+"===f||"(-"===f||"(&"===f||"(|"===f||"(^"===f||"(>>"===f){if(3>e.length)return a("arg_size < 3 : "+
f);m.push(k(f,e[1],e[2]))}else if("(??"===f){if(3>e.length)return a("arg_size < 3 : "+f);if("bool"===e[1].b&&!0===e[1].a){b=v(p[e[2].a]);if("[event]"===b.d)return b;for(var z in b)m.push(b[z])}else if(4===e.length){b=v(p[e[3].a]);if("[event]"===b.d)return b;for(z in b)m.push(b[z])}else m.push({d:"[token]",b:"bool",a:!1,e:!0})}else if("(loop"===f){if(2>e.length)return a("arg_size < 2 : "+f);h.push({d:"[stack]",b:"list",a:[],c:"out",e:!1});f=h.length;b=A();for(d=0;100>d;d++){b=v(p[e[1].a]);if("[event]"===
b.d&&"break"===b.b){h.pop();b.a.c="out";h.push(b.a);break}if(("[event]"!==b.d||"continue"!==b.b)&&"[event]"===b.d)return b}if(100<=d)return w.push("exception : loop limit-over."+(""===s?"":"\n\tline:"+s)),{d:"[event]",b:"exception",a:"exception : loop limit-over.",g:"top"};d=D(e[0].h);if("[event]"===d.d)return d;m.push(d)}else if("(each"===f){if(2>e.length)return a("arg_size < 2 : "+f);d=g(e[1]);if("[event]"===d.d)return d;r=0;if("str"===d.b)r=d.a.length;else if("int"===d.b)r=d.a;else if("list"===
d.b)r=d.a.length;else return a("each type error: "+d.b);f=h.length;h.push({d:"[stack]",b:d.b,a:0,c:"it",e:!0});h.push({d:"[stack]",b:"int",a:0,c:"idx",e:!0});h.push({d:"[stack]",b:"int",a:r,c:"max",e:!0});h.push({d:"[stack]",b:"list",a:[],c:"out",e:!1});for(var b=A(),t=0;t<r;t++){"str"===d.b?h[f].a=d.a.substr(t,1):"int"===d.b?h[f].a=t:"list"===d.b&&(b=x(g(d.a[t])),b.c="it",h[f]=b);if("list"===d.b){if(b=g(d.a[t]).c,"literal"!==b)if("."!==b[0])continue;else h[f+1].a=b.substr(1,b.length-1),h[f+1].b=
"str"}else h[f+1].a=t;b=v(p[e[2].a]);if("[event]"===b.d&&"break"===b.b){h.pop();b.a.c="out";h.push(b.a);break}if(("[event]"!==b.d||"continue"!==b.b)&&"[event]"===b.d)return b}d=D(e[0].h);if("[event]"===d.d)return d;m.push(d)}else{if("(break"===f)return 2>e.length?a("arg_size < 2 : "+f):{d:"[event]",b:"break",a:g(e[1])};if("(continue"===f)return 1>e.length?a("arg_size < 1 : "+f):{d:"[event]",b:"continue",a:A()};if("(++"===f){if(2>e.length)return a("arg_size < 2 : "+f);m.push(y("+=",e[1],{d:"[token]",
b:"int",a:1}))}else if("(--"===f){if(2>e.length)return a("arg_size < 2 : "+f);m.push(y("-=",e[1],{d:"[token]",b:"int",a:1}))}else if("(+="===f){if(3>e.length)return a("arg_size < 3 : "+f);m.push(y("+=",e[1],e[2]))}else if("(-="===f){if(3>e.length)return a("arg_size < 3 : "+f);m.push(y("-=",e[1],e[2]))}else if("(*="===f){if(3>e.length)return a("arg_size < 3 : "+f);m.push(y("*=",e[1],e[2]))}else if("(/="===f){if(3>e.length)return a("arg_size < 3 : "+f);m.push(y("/=",e[1],e[2]))}else if("(%="===f){if(3>
e.length)return a("arg_size < 3 : "+f);m.push(y("%=",e[1],e[2]))}else if("(call"===f){if(3>e.length)return a("arg_size < 3 : "+f);d=g(e[1]);if("[event]"===d.d)return d;if(d.f)for(b=d.f.a,n=b.length-1;0<=n;n--)"[stack]"===b[n].d&&h.push(b[n]);f=h.length;if(3===e.length){b=v(p[e[2].a]);if("[event]"===b.d)return b;for(n=h.length-1;f-1<n;n--)h[n].c="_"+h[n].c;h.push({d:"[stack]",b:"int",a:h.length-f,c:"arg_size",e:!0})}for(e=0;e<f;e++)r=h[e].c,"_"===r[0]&&(h[e].c="_."+r);r=h.length;if("func_no"!==d.b)return a("func_no: "+
d.a);b=v(p[d.a]);if("[event]"===b.d){if("return"!==b.b){for(;f<h.length;)h.pop();return b}b=b.a}if("list"!==b.b){t={d:"[stack]",b:"list",a:[],c:"out",e:!1};d=!1;for(n in b){var q=x(b[n]);q.c&&".literal"!==q.c&&"literal"!==q.c?"out"===q.c?d=q:(q.f=t,t.a.push(q)):!1===d&&(d=g(q))}!1!==d&&(d.c=".0",d.e=!0,d.f=t,t.a.push(d));b=t}else for(n in b.a)q=b.a[n],q.c="."+q.c;for(;r<h.length;)d=h.pop();for(;f<h.length;)d=h.pop(),d.f=b,b.a.push(d);for(e in h)r=h[e].c,"_"===r[0]&&"."===r[1]&&(h[e].c=r.substr(2,
r.length-2));m.push(b)}else{if("(return"===f){if(2>e.length)return a("arg_size < 2 : "+f);b=g(e[1]);if("[event]"===b.d)return b;if("list"===b.b)for(n in z=0,b.a)q=x(b.a[n]),b.a[n].c?"."!==q.c[0]&&(q.c="."+q.c):(q=x(g(q)),q.c="."+z,z++),m.push(q);else return a("return not list : "+f);return{d:"[event]",b:"return",a:m}}if("(line"===f)s=e[1].a;else return a("token-error: "+f)}}}}return m}var p=[],h=[],w=[],u="",s="",F=function(h){for(var a="",g=0;g<h.length;g++)switch(h[g]){case "'":a+="s";break;case '"':a+=
"S";break;case "/":a+="b";break;case "-":a+="b";break;case ".":a+="b";break;case "\n":a+="e";break;default:a+=" "}for(var l="",k=" ",g=0;g<a.length;g++){switch(a[g]){case "s":"s"===k?k=" ":"S"!==k&&(k="s");break;case "S":"S"===k?k=" ":"s"!==k&&(k="S")}l=" "!==k?l+k:l+a[g]}a="";k=" ";for(g=0;g<l.length;g++){c=l[g];switch(k+c){case " b":case "eb":"//"===h.substr(g,2)&&(c="c"),"---"===h.substr(g,3)&&(c="c"),"..."===h.substr(g,3)&&(c="c")}switch(c){case "c":k="c";break;case "e":k=" "}" "===k&&(a+=h[g])}return a}(G);
(function(h){p=[];for(var a=[],g=0;g<h.length;g++)if("}:}"===h[g])for(var l=[],k;k=a.pop();)if("ident"===k.b&&"{"===k.a){k=p.length;p.push(l);a.push({d:"[token]",b:"func_no",a:k});break}else l.unshift(k);else if("]:]"===h[g])for(l=[];k=a.pop();)if("ident"===k.b&&"["===k.a){k=p.length;p.push(l);a.push({d:"[token]",b:"list_no",a:k});break}else l.unshift(k);else l=h[g],"a:true"===l?l={d:"[stack]",b:"bool",a:!0,c:"literal",e:!0}:"a:false"===l?l={d:"[stack]",b:"bool",a:!1,c:"literal",e:!0}:(k=l.substr(0,
2),l="0:"===k?{d:"[stack]",b:"int",a:parseInt(l.substr(2,l.length-2)),c:"literal",e:!0}:"s:"===k?{d:"[stack]",b:"str",a:l.substr(3,l.length-2-2),c:"literal",e:!0}:{d:"[token]",b:"ident",a:l.substr(2,l.length-2)}),a.push(l);p.push(a)})(function(h){for(var a="",g=0;g<F.length;g++)switch(h[g]){case " ":a+=" ";break;case "!":a+="a";break;case '"':a+="S";break;case "#":a+="a";break;case "$":a+="a";break;case "%":a+="a";break;case "&":a+="a";break;case "'":a+="s";break;case "(":a+="a";break;case ")":a+=
")";break;case "*":a+="a";break;case "+":a+="a";break;case ",":a+="a";break;case "-":a+="a";break;case ".":a+="a";break;case "/":a+="a";break;case "0":a+="0";break;case "1":a+="0";break;case "2":a+="0";break;case "3":a+="0";break;case "4":a+="0";break;case "5":a+="0";break;case "6":a+="0";break;case "7":a+="0";break;case "8":a+="0";break;case "9":a+="0";break;case ":":a+="a";break;case ";":a+="a";break;case "<":a+="a";break;case "=":a+="a";break;case ">":a+="a";break;case "?":a+="a";break;case "@":a+=
"a";break;case "A":a+="a";break;case "B":a+="a";break;case "C":a+="a";break;case "D":a+="a";break;case "E":a+="a";break;case "F":a+="a";break;case "G":a+="a";break;case "H":a+="a";break;case "I":a+="a";break;case "J":a+="a";break;case "K":a+="a";break;case "L":a+="a";break;case "M":a+="a";break;case "N":a+="a";break;case "O":a+="a";break;case "P":a+="a";break;case "Q":a+="a";break;case "R":a+="a";break;case "S":a+="a";break;case "T":a+="a";break;case "U":a+="a";break;case "V":a+="a";break;case "W":a+=
"a";break;case "X":a+="a";break;case "Y":a+="a";break;case "Z":a+="a";break;case "[":a+="[";break;case "\\":a+="a";break;case "]":a+="]";break;case "^":a+="a";break;case "_":a+="a";break;case "`":a+="a";break;case "a":a+="a";break;case "b":a+="a";break;case "c":a+="a";break;case "d":a+="a";break;case "e":a+="a";break;case "f":a+="a";break;case "g":a+="a";break;case "h":a+="a";break;case "i":a+="a";break;case "j":a+="a";break;case "k":a+="a";break;case "l":a+="a";break;case "m":a+="a";break;case "n":a+=
"a";break;case "o":a+="a";break;case "p":a+="a";break;case "q":a+="a";break;case "r":a+="a";break;case "s":a+="a";break;case "t":a+="a";break;case "u":a+="a";break;case "v":a+="a";break;case "w":a+="a";break;case "x":a+="a";break;case "y":a+="a";break;case "z":a+="a";break;case "{":a+="{";break;case "|":a+="a";break;case "}":a+="}";break;case "~":a+="a";break;default:a+=" "}for(var l="",k=" ",g=0;g<a.length;g++){switch(a[g]){case "s":"s"===k?k=" ":"S"!==k&&(k="s");break;case "S":"S"===k?k=" ":"s"!==
k&&(k="S")}" "===k&&0<g&&"a"===a[g-1]&&"0"===a[g]?k="a":"a"===k&&"a"!==a[g]&&"0"!==a[g]&&(k=" ");l=" "!==k?l+k:l+a[g]}for(var a="",k=l[0],p=[],g=0;g<l.length;g++)k===l[g]?a+=h[g]:(" "!==k&&p.push(k+":"+a),a=h[g],k=l[g]);" "!==k&&p.push(k+":"+a);return p}(F));v(p[p.length-1]);0<w.length&&(u+=w+"\n");return u};