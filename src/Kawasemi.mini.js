function on_kawasemi(I){function C(){return{d:"[stack]",b:"list",a:[],c:"null",e:!1}}function G(g){for(var a in g){var h=g[a];"list"===h.b?G(h.a):"func_no"===h.b&&"dtor"===h.c&&v(q[h.a])}}function D(y){for(var a=C();y<g.length;){var h=g.pop();"out"===h.c?a=h:"list"===h.b?G(h.a):"func_no"===h.b&&"dtor"===h.c&&(a=v(q[h.a]))}return a}function v(y){function a(a){w.push("syntax-error : "+a+(""===s?"":"\n\tline:"+s));return{d:"[event]",b:"error",a:"syntax-error : "+a,g:"top"}}function h(a){if("list_no"===a.b){var d=
g.length;a=v(q[a.a]);if("[event]"===a.d)return a;for(;d<g.length;)g.pop();d={d:"[stack]",b:"list",a:[],c:"literal",e:!1};if(0===a.length)return d;for(var b in a)"ident"===a[b].b&&(a[b]=h(a[b])),"[stack]"===a[b].d&&("literal"===a[b].c&&(a[b].c=""+b),"."!==a[b].c[0]&&(a[b].c="."+a[b].c),a[b].f=d);d.a=a;return d}if("ident"!==a.b)return a;b=a.a;for(d=g.length-1;0<=d;d--)if("[stack]"===g[d].d&&g[d].c===b)return g[d];w.push("undefined variable.: "+b+(""===s?"":"\n\tline:"+s));return{d:"[event]",b:"error",
a:"undefined-var : "+b,g:"top"}}function n(d,b){var e=h(b);if("[event]"===e.d)return e;if("ident"!==d.b){if(!0===d.e&&!0===d.f.e)return a("cannot be set to a constant.: "+d.f.c);d.a=e.a;d.b=e.b;return d}for(var f=g.length-1;0<=f;f--){var k=g[f];if("[stack]"===k.d&&k.c===d.a){if(!0===k.e)return a("cannot be set to a constant.: "+k.c);if(k.b!==e.b)return a("unmatch types.: '"+k.b+":"+k.c+"' != '"+e.b+"'");k.a=e.a;k.b=e.b;e=u(k);e.c="literal";return e}}w.push("undefined variable.: "+d.a+(""===s?"":"\n\tline:"+
s));return{d:"[event]",b:"error",a:"undefined-var : "+d.a,g:"top"}}function k(d,b,e){b=h(b);if("[event]"===b.d)return b;e=h(e);if("[event]"===e.d)return e;if(b.b!==e.b)return{d:"[stack]",b:"bool",a:!1,c:"literal",e:!0};if("(>"===d)return{d:"[stack]",b:"bool",a:b.a>e.a,c:"literal",e:!0};if("(<"===d)return{d:"[stack]",b:"bool",a:b.a<e.a,c:"literal",e:!0};if("(>="===d)return{d:"[stack]",b:"bool",a:b.a>=e.a,c:"literal",e:!0};if("(<="===d)return{d:"[stack]",b:"bool",a:b.a<=e.a,c:"literal",e:!0};if("(=="===
d)return{d:"[stack]",b:"bool",a:b.a===e.a,c:"literal",e:!0};if("(!="===d)return{d:"[stack]",b:"bool",a:b.a!==e.a,c:"literal",e:!0};if("(&&"===d)return{d:"[stack]",b:"bool",a:b.a&&e.a,c:"literal",e:!0};if("(||"===d)return{d:"[stack]",b:"bool",a:b.a||e.a,c:"literal",e:!0};if("str"===b.b&&"str"===e.b&&1===b.a.length&&1===e.a.length){if("(+"===d)return{d:"[stack]",b:b.b,a:String.fromCharCode(b.a.charCodeAt(0)+e.a.charCodeAt(0)),c:"literal",e:!0};if("(-"===d)return{d:"[stack]",b:b.b,a:String.fromCharCode(b.a.charCodeAt(0)-
e.a.charCodeAt(0)),c:"literal",e:!0}}return"(*"===d?{d:"[stack]",b:b.b,a:b.a*e.a,c:"literal",e:!0}:"(/"===d?{d:"[stack]",b:b.b,a:Math.floor(b.a/e.a),c:"literal",e:!0}:"(%"===d?{d:"[stack]",b:b.b,a:b.a%e.a,c:"literal",e:!0}:"(+"===d?{d:"[stack]",b:b.b,a:b.a+e.a,c:"literal",e:!0}:"(-"===d?{d:"[stack]",b:b.b,a:b.a-e.a,c:"literal",e:!0}:"(&"===d?{d:"[stack]",b:b.b,a:b.a&e.a,c:"literal",e:!0}:"(|"===d?{d:"[stack]",b:b.b,a:b.a|e.a,c:"literal",e:!0}:"(^"===d?{d:"[stack]",b:b.b,a:b.a^e.a,c:"literal",e:!0}:
"(>>"===d?{d:"[stack]",b:b.b,a:b.a>>e.a,c:"literal",e:!0}:a(d)}function z(d,b,e){e=h(e);if("[event]"===e.d)return e;if("int"!==e.b)return a("variable type mismatch.: "+e.a+" "+e.b);if("ident"!==b.b){if(!0===b.e)return a("cannot be set to a constant.: "+b.c);if("int"!==b.b)return a("variable type mismatch.:"+b.a);if("*="===d)return{d:"[stack]",b:"int",a:b.a*=e.a,c:"literal",e:!1};if("/="===d)return{d:"[stack]",b:"int",a:b.a=Math.floor(b.a/e.a),c:"literal",e:!1};if("%="===d)return{d:"[stack]",b:"int",
a:b.a%=e.a,c:"literal",e:!1};if("+="===d)return{d:"[stack]",b:"int",a:b.a+=e.a,c:"literal",e:!1};if("-="===d)return{d:"[stack]",b:"int",a:b.a-=e.a,c:"literal",e:!1};w.push("undefined variable.: "+b.a+" "+d+(""===s?"":"\n\tline:"+s));return{d:"[event]",b:"error",a:"undefined-var:"+b.a,g:"top"}}for(var f=b.a,k=g.length-1;0<=k;k--){var l=g[k];if(l.c===f){if(!0===l.e)return a("cannot be set to a constant.: "+l.c);if("int"!==l.b)return a("variable type mismatch.:"+E(l));if("*="===d)return{d:"[stack]",
b:"int",a:l.a*=e.a,c:"literal",e:!1};if("/="===d)return{d:"[stack]",b:"int",a:l.a=Math.floor(l.a/e.a),c:"literal",e:!1};if("%="===d)return{d:"[stack]",b:"int",a:l.a%=e.a,c:"literal",e:!1};if("+="===d)return{d:"[stack]",b:"int",a:l.a+=e.a,c:"literal",e:!1};if("-="===d)return{d:"[stack]",b:"int",a:l.a-=e.a,c:"literal",e:!1}}}w.push("undefined variable.: "+b.a+" "+d+(""===s?"":"\n\tline:"+s));return{d:"[event]",b:"error",a:"undefined-var:"+b.a,g:"top"}}function u(a){return{d:a.d,b:a.b,a:a.a,c:a.c,e:a.e}}
function E(a){if("func_no"===a.b)return"{}";if("str"===a.b)return"'"+a.a+"'";if("int"===a.b)return a.a;if("list"===a.b){var b="[ ",d;for(d in a.a){var e=a.a[d];"[stack]"===e.d&&"."===e.c[0]&&(b+=E(h(e))+", ")}return b+"]"}return"bool"===a.b?a.a:a.b}if(!y)return[];for(var m=[],F=0;F<y.length;F++){var b=y[F];if("ident"!==b.b||")"!==b.a){if("("===b.a||"(each"===b.a||"(loop"===b.a)b.h=g.length;m.push(b)}else{for(var d=[],f=m.length-1;0<=f;--f){var e=m.pop();d.unshift(e);if("ident"===e.b&&"("===e.a[0])break}if(!(0>=
d.length))if(b=d[0].a,"("===b||"(,"===b){f=D(d[0].h);if("[event]"===f.d)return f;2>d.length?m.push(C()):m.push(u(h(d[d.length-1])))}else if("(;"===b){if(2>d.length)return a("arg_size < 2 : "+b)}else if("(at"===b||"(."===b){if(3>d.length)return a("arg_size < 3 : "+b);if(3<d.length)return a("arg_size > 3 : "+b);if("@"===d[1].a)e=u(d[1]),e.a=d[1].a+d[2].a,e.b="int",m.push(e);else{f=h(d[1]);if("[event]"===f.d)return f;e=d[2];"(at"===b&&(e=h(d[2]));e=("."===e.a[0]?"":".")+e.a;d=!1;".type"===e&&(d=f.b,
"func_no"===d&&(d="func"),d={d:"[stack]",b:"str",a:d,c:"literal",e:!1},m.push(d));if(!1===d&&"[stack]"===f.d&&"list"===f.b){if(!1===d)for(var l in f.a){d=f.a[l];if(d.c===e){m.push(d);break}d=!1}if(!1===d){var r="";for(l=g.length-1;0<=l;l--)if("[stack]"===g[l].d&&g[l].c===e){d=g[l];break}!1!==d&&"int"===d.b&&0<=d.a&&d.a<f.a.length&&m.push(f.a[d.a])}if(!1===d)for(l in f.a){d=f.a[l];if(".unmatch"===d.c){m.push(d);break}d=!1}}if(!1===d)return w.push("undefined variable.: "+f.c+e+(""===s?"":"\n\tline:"+
s)),{d:"[event]",b:"error",a:"undefined-var : "+f.c+e,g:"top"}}}else if("(:"===b||"(::"===b){if(3>d.length)return a("arg_size < 3 : "+b);if(3<d.length)return a("arg_size > 3 : "+b);f=d[1].a;if("ident"!==d[1].b){if("int"!==d[1].b)return a("cannot define.: "+f);f=""+f}e=h(d[2]);if("[event]"===e.d)return e;e={d:"[stack]",b:e.b,a:e.a,c:f,e:"(:"===b};g.push(e);m.push(e)}else if("(="===b){if(3>d.length)return a("arg_size < 3 : "+b);if(3<d.length)return a("arg_size > 3 : "+b);e=n(d[1],d[2]);if("[event]"===
e.d)return e;m.push(e)}else if("(<<"===b){if(3>d.length)return a("arg_size < 3 : "+b);if(3<d.length)return a("arg_size > 3 : "+b);if("@.co"===d[1].a)e=h(d[2]),"str"===e.b||"int"===e.b?A+=e.a:"list"===e.b&&(A+=E(e)),m.push(d[1]);else if("ident"!==d[1].b)return a("syntax-error?: "+d[1].a);for(l=g.length-1;0<=l;l--)if(f=g[l],"[stack]"===f.d&&f.c===d[1].a){if(!0===f.e)return a("cannot be set to a constant.: "+f.c);if("list"===f.b)e=h(d[2]),"literal"===e.c?f.a.push({d:e.d,b:e.b,a:e.a,c:"."+f.a.length,
e:e.e,f:f}):(e=u(e),"."!==e.c[0]&&(e.c="."+e.c),f.a.push(e));else if("str"===f.b)f.a=""+f.a+h(d[2]).a;else if("int"===f.b){m.push({d:"[stack]",b:f.b,a:f.a<<h(d[2]).a,c:"literal",e:!0});break}m.push(d[1]);break}}else if("(<"===b||"(>"===b||"(<="===b||"(>="===b||"(=="===b||"(!="===b||"(&&"===b||"(||"===b||"(*"===b||"(/"===b||"(%"===b||"(+"===b||"(-"===b||"(&"===b||"(|"===b||"(^"===b||"(>>"===b){if(3>d.length)return a("arg_size < 3 : "+b);if(3<d.length)return a("arg_size > 3 : "+b);m.push(k(b,d[1],d[2]))}else if("(??"===
b){if(3>d.length)return a("arg_size < 3 : "+b);if(4<d.length)return a("arg_size > 4 : "+b);if("bool"===d[1].b&&!0===d[1].a){e=v(q[d[2].a]);if("[event]"===e.d)return e;for(var B in e)m.push(e[B])}else if(4===d.length){e=v(q[d[3].a]);if("[event]"===e.d)return e;for(B in e)m.push(e[B])}else m.push({d:"[token]",b:"bool",a:!1,e:!0})}else if("(loop"===b){if(2>d.length)return a("arg_size < 2 : "+b);if(2<d.length)return a("arg_size > 2 : "+b);r=999;b=g.length;g.push({d:"[stack]",b:"int",a:0,c:"idx",e:!0});
g.push({d:"[stack]",b:"int",a:r,c:"max",e:!0});g.push({d:"[stack]",b:"list",a:[],c:"out",e:!1});for(var p=0;p<r;p++){g[b].a=p;e=v(q[d[1].a]);if("[event]"===e.d&&"break"===e.b){for(l in e.a.a){var t=u(e.a.a[l]);t.f=g[b+2].a;t.c="."+g[b+2].a.length;g[b+2].a.push(t)}break}if("[event]"!==e.d||"continue"!==e.b){if("[event]"===e.d)return e;for(l in e)t=u(e[l]),t.f=g[b+2].a,t.c="."+g[b+2].a.length,g[b+2].a.push(t)}}if(p>=r)return w.push("exception : loop limit-over."+(""===s?"":"\n\tline:"+s)),{d:"[event]",
b:"exception",a:"exception : loop limit-over.",g:"top"};f=D(d[0].h);if("[event]"===f.d)return f;m.push(f)}else if("(each"===b){if(3>d.length)return a("arg_size < 3 : "+b);if(3<d.length)return a("arg_size > 3 : "+b);f=h(d[1]);if("[event]"===f.d)return f;r=0;if("str"===f.b)r=f.a.length;else if("int"===f.b)r=f.a;else if("list"===f.b)r=f.a.length;else return a("each type error: "+f.b);b=g.length;g.push({d:"[stack]",b:f.b,a:0,c:"it",e:!0});g.push({d:"[stack]",b:"int",a:0,c:"idx",e:!0});g.push({d:"[stack]",
b:"int",a:r,c:"max",e:!0});g.push({d:"[stack]",b:"list",a:[],c:"out",e:!1});for(var x=0,e=C(),p=0;p<r;p++){"str"===f.b?g[b].a=f.a.substr(p,1):"int"===f.b?g[b].a=p:"list"===f.b&&(e=u(h(f.a[p])),e.c="it",g[b]=e);if("list"===f.b){if(e=h(f.a[p]).c,"literal"!==e)if("."!==e[0])continue;else g[b+1].a=e.substr(1,e.length-1),g[b+1].b="str"}else g[b+1].a=p;e=v(q[d[2].a]);if("[event]"===e.d&&"break"===e.b){x=g[b+3].a.length;for(l in e.a.a)t=u(e.a.a[l]),t.f=g[b+3].a,t.c="."+x,++x,g[b+3].a.push(t);break}if("[event]"!==
e.d||"continue"!==e.b){if("[event]"===e.d)return e;for(l in e)t=u(e[l]),t.f=g[b+3].a,t.c="."+x,++x,g[b+3].a.push(t)}}f=D(d[0].h);if("[event]"===f.d)return f;m.push(f)}else{if("(break"===b)return 2>d.length?a("arg_size < 2 : "+b):2<d.length?a("arg_size > 2 : "+b):"list_no"!==d[1].b?a("argument is not list-object : "+b):{d:"[event]",b:"break",a:h(d[1])};if("(continue"===b)return 1>d.length?a("arg_size < 1 : "+b):1<d.length?a("arg_size > 1 : "+b):{d:"[event]",b:"continue",a:C()};if("(++"===b){if(2>d.length)return a("arg_size < 2 : "+
b);if(2<d.length)return a("arg_size > 2 : "+b);m.push(z("+=",d[1],{d:"[token]",b:"int",a:1}))}else if("(--"===b){if(2>d.length)return a("arg_size < 2 : "+b);if(2<d.length)return a("arg_size > 2 : "+b);m.push(z("-=",d[1],{d:"[token]",b:"int",a:1}))}else if("(+="===b){if(3>d.length)return a("arg_size < 3 : "+b);if(3<d.length)return a("arg_size > 3 : "+b);m.push(z("+=",d[1],d[2]))}else if("(-="===b){if(3<d.length)return a("arg_size > 3 : "+b);if(3>d.length)return a("arg_size < 3 : "+b);m.push(z("-=",
d[1],d[2]))}else if("(*="===b){if(3>d.length)return a("arg_size < 3 : "+b);if(3<d.length)return a("arg_size > 3 : "+b);m.push(z("*=",d[1],d[2]))}else if("(/="===b){if(3>d.length)return a("arg_size < 3 : "+b);if(3<d.length)return a("arg_size > 3 : "+b);m.push(z("/=",d[1],d[2]))}else if("(%="===b){if(3>d.length)return a("arg_size < 3 : "+b);if(3<d.length)return a("arg_size > 3 : "+b);m.push(z("%=",d[1],d[2]))}else if("(call"===b){if(3>d.length)return a("arg_size < 3 : "+b);if(3<d.length)return a("arg_size > 3 : "+
b);f=h(d[1]);if("[event]"===f.d)return f;if(f.f)for(e=f.f.a,l=e.length-1;0<=l;l--)"[stack]"===e[l].d&&g.push(e[l]);b=g.length;if(3===d.length){e=v(q[d[2].a]);if("[event]"===e.d)return e;for(l=g.length-1;b-1<l;l--)g[l].c="_"+g[l].c;g.push({d:"[stack]",b:"int",a:g.length-b,c:"arg_size",e:!0})}for(d=0;d<b;d++)r=g[d].c,"_"===r[0]&&(g[d].c="_."+r);r=g.length;if("func_no"!==f.b)return a("func_no: "+f.a);e=v(q[f.a]);if("[event]"===e.d){if("return"!==e.b){for(;b<g.length;)g.pop();return e}e={d:"[stack]",
b:"list",a:e.a,c:"out",e:!1}}if("list"!==e.b){x={d:"[stack]",b:"list",a:[],c:"out",e:!1};f=!1;for(l in e)p=u(e[l]),p.c&&".literal"!==p.c&&"literal"!==p.c?"out"===p.c&&(f=p):!1===f&&(f=h(p));!1!==f&&(f.c=".0",f.e=!0,f.f=x,x.a.push(f));e=x}else for(l in e.a)e.a[l]=h(e.a[l]);for(;r<g.length;)f=g.pop(),f.f=e,e.a.unshift(f);for(;b<g.length;)f=g.pop();for(d in g)r=g[d].c,"_"===r[0]&&"."===r[1]&&(g[d].c=r.substr(2,r.length-2));m.push(e)}else{if("(return"===b){if(2>d.length)return a("arg_size < 2 : "+b);
if(2<d.length)return a("arg_size > 2 : "+b);if("list_no"!==d[1].b)return a("argument is not list-object : "+b);e=h(d[1]);if("[event]"===e.d)return e;if("list"===e.b){y=[];B=0;for(l in e.a)p=u(e.a[l]),e.a[l].c?"."!==p.c[0]&&(p.c="."+p.c):(p=u(h(p)),p.c="."+B,B++),y.push(p);return{d:"[event]",b:"return",a:y}}return a("return not list : "+b)}if("(line"===b)s=d[1].a;else return a("token-error: "+b)}}}}for(l in m)"ident"===m[l].b?m[l]=u(h(m[l])):"list_no"===m[l].b&&(m[l]=u(h(m[l])));return m}var q=[],
g=[],w=[],A="",s="",H=function(g){for(var a="",h=0;h<g.length;h++)switch(g[h]){case "'":a+="s";break;case '"':a+="S";break;case "/":a+="b";break;case "-":a+="b";break;case ".":a+="b";break;case "\n":a+="e";break;default:a+=" "}for(var n="",k=" ",h=0;h<a.length;h++){switch(a[h]){case "s":"s"===k?k=" ":"S"!==k&&(k="s");break;case "S":"S"===k?k=" ":"s"!==k&&(k="S")}n=" "!==k?n+k:n+a[h]}a="";k=" ";for(h=0;h<n.length;h++){c=n[h];switch(k+c){case " b":case "eb":"//"===g.substr(h,2)&&(c="c"),"---"===g.substr(h,
3)&&(c="c"),"..."===g.substr(h,3)&&(c="c")}switch(c){case "c":k="c";break;case "e":k=" "}" "===k&&(a+=g[h])}return a}(I);(function(g){q=[];for(var a=[],h=0;h<g.length;h++)if("}:}"===g[h])for(var n=[],k;k=a.pop();)if("ident"===k.b&&"{"===k.a){k=q.length;q.push(n);a.push({d:"[token]",b:"func_no",a:k});break}else n.unshift(k);else if("]:]"===g[h])for(n=[];k=a.pop();)if("ident"===k.b&&"["===k.a){k=q.length;q.push(n);a.push({d:"[token]",b:"list_no",a:k});break}else n.unshift(k);else n=g[h],"a:true"===
n?n={d:"[stack]",b:"bool",a:!0,c:"literal",e:!0}:"a:false"===n?n={d:"[stack]",b:"bool",a:!1,c:"literal",e:!0}:(k=n.substr(0,2),n="0:"===k?{d:"[stack]",b:"int",a:parseInt(n.substr(2,n.length-2)),c:"literal",e:!0}:"s:"===k?{d:"[stack]",b:"str",a:n.substr(3,n.length-2-2),c:"literal",e:!0}:{d:"[token]",b:"ident",a:n.substr(2,n.length-2)}),a.push(n);q.push(a)})(function(g){for(var a="",h=0;h<H.length;h++)switch(g[h]){case " ":a+=" ";break;case "!":a+="a";break;case '"':a+="S";break;case "#":a+="a";break;
case "$":a+="a";break;case "%":a+="a";break;case "&":a+="a";break;case "'":a+="s";break;case "(":a+="a";break;case ")":a+=")";break;case "*":a+="a";break;case "+":a+="a";break;case ",":a+="a";break;case "-":a+="a";break;case ".":a+="a";break;case "/":a+="a";break;case "0":a+="0";break;case "1":a+="0";break;case "2":a+="0";break;case "3":a+="0";break;case "4":a+="0";break;case "5":a+="0";break;case "6":a+="0";break;case "7":a+="0";break;case "8":a+="0";break;case "9":a+="0";break;case ":":a+="a";break;
case ";":a+="a";break;case "<":a+="a";break;case "=":a+="a";break;case ">":a+="a";break;case "?":a+="a";break;case "@":a+="a";break;case "A":a+="a";break;case "B":a+="a";break;case "C":a+="a";break;case "D":a+="a";break;case "E":a+="a";break;case "F":a+="a";break;case "G":a+="a";break;case "H":a+="a";break;case "I":a+="a";break;case "J":a+="a";break;case "K":a+="a";break;case "L":a+="a";break;case "M":a+="a";break;case "N":a+="a";break;case "O":a+="a";break;case "P":a+="a";break;case "Q":a+="a";break;
case "R":a+="a";break;case "S":a+="a";break;case "T":a+="a";break;case "U":a+="a";break;case "V":a+="a";break;case "W":a+="a";break;case "X":a+="a";break;case "Y":a+="a";break;case "Z":a+="a";break;case "[":a+="[";break;case "\\":a+="a";break;case "]":a+="]";break;case "^":a+="a";break;case "_":a+="a";break;case "`":a+="a";break;case "a":a+="a";break;case "b":a+="a";break;case "c":a+="a";break;case "d":a+="a";break;case "e":a+="a";break;case "f":a+="a";break;case "g":a+="a";break;case "h":a+="a";
break;case "i":a+="a";break;case "j":a+="a";break;case "k":a+="a";break;case "l":a+="a";break;case "m":a+="a";break;case "n":a+="a";break;case "o":a+="a";break;case "p":a+="a";break;case "q":a+="a";break;case "r":a+="a";break;case "s":a+="a";break;case "t":a+="a";break;case "u":a+="a";break;case "v":a+="a";break;case "w":a+="a";break;case "x":a+="a";break;case "y":a+="a";break;case "z":a+="a";break;case "{":a+="{";break;case "|":a+="a";break;case "}":a+="}";break;case "~":a+="a";break;default:a+=
" "}for(var n="",k=" ",h=0;h<a.length;h++){switch(a[h]){case "s":"s"===k?k=" ":"S"!==k&&(k="s");break;case "S":"S"===k?k=" ":"s"!==k&&(k="S")}" "===k&&0<h&&"a"===a[h-1]&&"0"===a[h]?k="a":"a"===k&&"a"!==a[h]&&"0"!==a[h]&&(k=" ");n=" "!==k?n+k:n+a[h]}for(var a="",k=n[0],q=[],h=0;h<n.length;h++)k===n[h]?a+=g[h]:(" "!==k&&q.push(k+":"+a),a=g[h],k=n[h]);" "!==k&&q.push(k+":"+a);return q}(H));v(q[q.length-1]);0<w.length&&(A+=w+"\n");return A};